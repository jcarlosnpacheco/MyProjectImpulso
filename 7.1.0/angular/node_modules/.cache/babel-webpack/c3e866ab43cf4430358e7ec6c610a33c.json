{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/jcarl/Downloads/MyProjectImpulso/7.1.0/angular/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _createClass from \"C:/Users/jcarl/Downloads/MyProjectImpulso/7.1.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"C:/Users/jcarl/Downloads/MyProjectImpulso/7.1.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { Injectable, Component, ElementRef, Renderer2, HostListener, EventEmitter, Directive, ViewContainerRef, Input, Output, RendererFactory2, NgModule } from '@angular/core';\nimport { isBs3, Utils, document as document$1, window as window$1 } from 'ngx-bootstrap/utils';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/component-loader';\nvar _c0 = [\"*\"];\n\nvar BsModalRef = /*#__PURE__*/_createClass(function BsModalRef() {\n  _classCallCheck(this, BsModalRef);\n\n  /**\n   * Hides the modal\n   */\n  this.hide = Function;\n  /**\n   * Sets new class to modal window\n   */\n\n  this.setClass = Function;\n});\n\nBsModalRef.ɵfac = function BsModalRef_Factory(t) {\n  return new (t || BsModalRef)();\n};\n\nBsModalRef.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: BsModalRef,\n  factory: BsModalRef.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalRef, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n\nif (false) {\n  /**\n   * Reference to a component inside the modal. Null if modal's been created with TemplateRef\n   * @type {?}\n   */\n  BsModalRef.prototype.content;\n  /**\n   * Hides the modal\n   * @type {?}\n   */\n\n  BsModalRef.prototype.hide;\n  /**\n   * Sets new class to modal window\n   * @type {?}\n   */\n\n  BsModalRef.prototype.setClass;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar ModalBackdropOptions = /*#__PURE__*/_createClass(\n/**\n * @param {?} options\n */\nfunction ModalBackdropOptions(options) {\n  _classCallCheck(this, ModalBackdropOptions);\n\n  this.animate = true;\n  Object.assign(this, options);\n});\n\nif (false) {\n  /** @type {?} */\n  ModalBackdropOptions.prototype.animate;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar ModalOptions = /*#__PURE__*/_createClass(function ModalOptions() {\n  _classCallCheck(this, ModalOptions);\n});\n\nModalOptions.ɵfac = function ModalOptions_Factory(t) {\n  return new (t || ModalOptions)();\n};\n\nModalOptions.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: ModalOptions,\n  factory: ModalOptions.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalOptions, [{\n    type: Injectable\n  }], null, null);\n})();\n\nif (false) {\n  /**\n   *  Includes a modal-backdrop element. Alternatively,\n   *  specify static for a backdrop which doesn't close the modal on click.\n   * @type {?}\n   */\n  ModalOptions.prototype.backdrop;\n  /**\n   * Closes the modal when escape key is pressed.\n   * @type {?}\n   */\n\n  ModalOptions.prototype.keyboard;\n  /** @type {?} */\n\n  ModalOptions.prototype.focus;\n  /**\n   * Shows the modal when initialized.\n   * @type {?}\n   */\n\n  ModalOptions.prototype.show;\n  /**\n   * Ignore the backdrop click\n   * @type {?}\n   */\n\n  ModalOptions.prototype.ignoreBackdropClick;\n  /**\n   * Css class for opened modal\n   * @type {?}\n   */\n\n  ModalOptions.prototype.class;\n  /**\n   * Toggle animation\n   * @type {?}\n   */\n\n  ModalOptions.prototype.animated;\n  /**\n   * Modal data\n   * @type {?}\n   */\n\n  ModalOptions.prototype.initialState;\n  /**\n   * Modal providers\n   * @type {?}\n   */\n\n  ModalOptions.prototype.providers;\n  /**\n   * aria-labelledby attribute value to set on the modal window\n   * @type {?}\n   */\n\n  ModalOptions.prototype.ariaLabelledBy;\n  /**\n   * aria-describedby attribute value to set on the modal window\n   * @type {?}\n   */\n\n  ModalOptions.prototype.ariaDescribedby;\n}\n/** @type {?} */\n\n\nvar modalConfigDefaults = {\n  backdrop: true,\n  keyboard: true,\n  focus: true,\n  show: false,\n  ignoreBackdropClick: false,\n  class: '',\n  animated: true,\n  initialState: {}\n};\n/** @type {?} */\n\nvar CLASS_NAME = {\n  SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n  BACKDROP: 'modal-backdrop',\n  OPEN: 'modal-open',\n  FADE: 'fade',\n  IN: 'in',\n  // bs3\n  SHOW: 'show' // bs4\n\n};\n/** @type {?} */\n\nvar SELECTOR = {\n  DIALOG: '.modal-dialog',\n  DATA_TOGGLE: '[data-toggle=\"modal\"]',\n  DATA_DISMISS: '[data-dismiss=\"modal\"]',\n  FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\n};\n/** @type {?} */\n\nvar TRANSITION_DURATIONS = {\n  MODAL: 300,\n  BACKDROP: 150\n};\n/** @type {?} */\n\nvar DISMISS_REASONS = {\n  BACKRDOP: 'backdrop-click',\n  ESC: 'esc'\n};\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nvar ModalContainerComponent = /*#__PURE__*/function () {\n  /**\n   * @param {?} options\n   * @param {?} _element\n   * @param {?} _renderer\n   */\n  function ModalContainerComponent(options, _element, _renderer) {\n    _classCallCheck(this, ModalContainerComponent);\n\n    this._element = _element;\n    this._renderer = _renderer;\n    this.isShown = false;\n    this.isModalHiding = false;\n    this.clickStartedInContent = false;\n    this.config = Object.assign({}, options);\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _createClass(ModalContainerComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      if (this.isAnimated) {\n        this._renderer.addClass(this._element.nativeElement, CLASS_NAME.FADE);\n      }\n\n      this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n\n      setTimeout(\n      /**\n      * @return {?}\n      */\n      function () {\n        _this.isShown = true;\n\n        _this._renderer.addClass(_this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n      }, this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\n\n      if (document && document.body) {\n        if (this.bsModalService.getModalsCount() === 1) {\n          this.bsModalService.checkScrollbar();\n          this.bsModalService.setScrollbar();\n        }\n\n        this._renderer.addClass(document.body, CLASS_NAME.OPEN);\n      }\n\n      if (this._element.nativeElement) {\n        this._element.nativeElement.focus();\n      }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"onClickStarted\",\n    value: function onClickStarted(event) {\n      this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"onClickStop\",\n    value: function onClickStop(event) {\n      /** @type {?} */\n      var clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n\n      if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || !clickedInBackdrop) {\n        this.clickStartedInContent = false;\n        return;\n      }\n\n      this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\n      this.hide();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"onEsc\",\n    value: function onEsc(event) {\n      if (!this.isShown) {\n        return;\n      } // tslint:disable-next-line:deprecation\n\n\n      if (event.keyCode === 27 || event.key === 'Escape') {\n        event.preventDefault();\n      }\n\n      if (this.config.keyboard && this.level === this.bsModalService.getModalsCount()) {\n        this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\n        this.hide();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.isShown) {\n        this.hide();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this2 = this;\n\n      if (this.isModalHiding || !this.isShown) {\n        return;\n      }\n\n      this.isModalHiding = true;\n\n      this._renderer.removeClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n\n      setTimeout(\n      /**\n      * @return {?}\n      */\n      function () {\n        _this2.isShown = false;\n\n        if (document && document.body && _this2.bsModalService.getModalsCount() === 1) {\n          _this2._renderer.removeClass(document.body, CLASS_NAME.OPEN);\n        }\n\n        _this2.bsModalService.hide(_this2.level);\n\n        _this2.isModalHiding = false;\n      }, this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\n    }\n  }]);\n\n  return ModalContainerComponent;\n}();\n\nModalContainerComponent.ɵfac = function ModalContainerComponent_Factory(t) {\n  return new (t || ModalContainerComponent)(ɵngcc0.ɵɵdirectiveInject(ModalOptions), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\n\nModalContainerComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: ModalContainerComponent,\n  selectors: [[\"modal-container\"]],\n  hostAttrs: [\"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\"],\n  hostVars: 3,\n  hostBindings: function ModalContainerComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ModalContainerComponent_mousedown_HostBindingHandler($event) {\n        return ctx.onClickStarted($event);\n      })(\"mouseup\", function ModalContainerComponent_mouseup_HostBindingHandler($event) {\n        return ctx.onClickStop($event);\n      })(\"keydown.esc\", function ModalContainerComponent_keydown_esc_HostBindingHandler($event) {\n        return ctx.onEsc($event);\n      }, false, ɵngcc0.ɵɵresolveWindow);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"aria-modal\", true)(\"aria-labelledby\", ctx.config.ariaLabelledBy)(\"aria-describedby\", ctx.config.ariaDescribedby);\n    }\n  },\n  ngContentSelectors: _c0,\n  decls: 3,\n  vars: 2,\n  consts: [[\"role\", \"document\"], [1, \"modal-content\"]],\n  template: function ModalContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n      ɵngcc0.ɵɵprojection(2);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassMap(\"modal-dialog\" + (ctx.config.class ? \" \" + ctx.config.class : \"\"));\n    }\n  },\n  encapsulation: 2\n});\n/** @nocollapse */\n\nModalContainerComponent.ctorParameters = function () {\n  return [{\n    type: ModalOptions\n  }, {\n    type: ElementRef\n  }, {\n    type: Renderer2\n  }];\n};\n\nModalContainerComponent.propDecorators = {\n  onClickStarted: [{\n    type: HostListener,\n    args: ['mousedown', ['$event']]\n  }],\n  onClickStop: [{\n    type: HostListener,\n    args: ['mouseup', ['$event']]\n  }],\n  onEsc: [{\n    type: HostListener,\n    args: ['window:keydown.esc', ['$event']]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalContainerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'modal-container',\n      template: \"\\n    <div [class]=\\\"'modal-dialog' + (config.class ? ' ' + config.class : '')\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <ng-content></ng-content>\\n      </div>\\n    </div>\\n  \",\n      host: {\n        class: 'modal',\n        role: 'dialog',\n        tabindex: '-1',\n        '[attr.aria-modal]': 'true',\n        '[attr.aria-labelledby]': 'config.ariaLabelledBy',\n        '[attr.aria-describedby]': 'config.ariaDescribedby'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ModalOptions\n    }, {\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, {\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n      type: HostListener,\n      args: ['mousedown', ['$event']]\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n      type: HostListener,\n      args: ['mouseup', ['$event']]\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n      type: HostListener,\n      args: ['window:keydown.esc', ['$event']]\n    }]\n  });\n})();\n\nif (false) {\n  /** @type {?} */\n  ModalContainerComponent.prototype.config;\n  /** @type {?} */\n\n  ModalContainerComponent.prototype.isShown;\n  /** @type {?} */\n\n  ModalContainerComponent.prototype.level;\n  /** @type {?} */\n\n  ModalContainerComponent.prototype.isAnimated;\n  /** @type {?} */\n\n  ModalContainerComponent.prototype.bsModalService;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalContainerComponent.prototype.isModalHiding;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalContainerComponent.prototype.clickStartedInContent;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalContainerComponent.prototype._element;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalContainerComponent.prototype._renderer;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * This component will be added as background layout for modals if enabled\n */\n\n\nvar ModalBackdropComponent = /*#__PURE__*/function () {\n  /**\n   * @param {?} element\n   * @param {?} renderer\n   */\n  function ModalBackdropComponent(element, renderer) {\n    _classCallCheck(this, ModalBackdropComponent);\n\n    this._isShown = false;\n    this.element = element;\n    this.renderer = renderer;\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _createClass(ModalBackdropComponent, [{\n    key: \"isAnimated\",\n    get: function get() {\n      return this._isAnimated;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    ,\n    set: function set(value) {\n      this._isAnimated = value; // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"isShown\",\n    get: function get() {\n      return this._isShown;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    ,\n    set: function set(value) {\n      this._isShown = value;\n\n      if (value) {\n        this.renderer.addClass(this.element.nativeElement, \"\".concat(CLASS_NAME.IN));\n      } else {\n        this.renderer.removeClass(this.element.nativeElement, \"\".concat(CLASS_NAME.IN));\n      }\n\n      if (!isBs3()) {\n        if (value) {\n          this.renderer.addClass(this.element.nativeElement, \"\".concat(CLASS_NAME.SHOW));\n        } else {\n          this.renderer.removeClass(this.element.nativeElement, \"\".concat(CLASS_NAME.SHOW));\n        }\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      if (this.isAnimated) {\n        this.renderer.addClass(this.element.nativeElement, \"\".concat(CLASS_NAME.FADE));\n        Utils.reflow(this.element.nativeElement);\n      }\n\n      this.isShown = true;\n    }\n  }]);\n\n  return ModalBackdropComponent;\n}();\n\nModalBackdropComponent.ɵfac = function ModalBackdropComponent_Factory(t) {\n  return new (t || ModalBackdropComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\n\nModalBackdropComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: ModalBackdropComponent,\n  selectors: [[\"bs-modal-backdrop\"]],\n  hostAttrs: [1, \"modal-backdrop\"],\n  decls: 0,\n  vars: 0,\n  template: function ModalBackdropComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});\n/** @nocollapse */\n\nModalBackdropComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: Renderer2\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalBackdropComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bs-modal-backdrop',\n      template: ' ',\n      host: {\n        class: CLASS_NAME.BACKDROP\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, null);\n})();\n\nif (false) {\n  /** @type {?} */\n  ModalBackdropComponent.prototype.element;\n  /** @type {?} */\n\n  ModalBackdropComponent.prototype.renderer;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalBackdropComponent.prototype._isAnimated;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalBackdropComponent.prototype._isShown;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/** @type {?} */\n\n\nvar TRANSITION_DURATION = 300;\n/** @type {?} */\n\nvar BACKDROP_TRANSITION_DURATION = 150;\n/**\n * Mark any code with directive to show it's content in modal\n */\n\nvar ModalDirective = /*#__PURE__*/function () {\n  /**\n   * @param {?} _element\n   * @param {?} _viewContainerRef\n   * @param {?} _renderer\n   * @param {?} clf\n   */\n  function ModalDirective(_element, _viewContainerRef, _renderer, clf) {\n    _classCallCheck(this, ModalDirective);\n\n    this._element = _element;\n    this._renderer = _renderer;\n    /**\n     * This event fires immediately when the `show` instance method is called.\n     */\n\n    this.onShow = new EventEmitter();\n    /**\n     * This event is fired when the modal has been made visible to the user\n     * (will wait for CSS transitions to complete)\n     */\n\n    this.onShown = new EventEmitter();\n    /**\n     * This event is fired immediately when\n     * the hide instance method has been called.\n     */\n\n    this.onHide = new EventEmitter();\n    /**\n     * This event is fired when the modal has finished being\n     * hidden from the user (will wait for CSS transitions to complete).\n     */\n\n    this.onHidden = new EventEmitter();\n    this._isShown = false;\n    this.isBodyOverflowing = false;\n    this.originalBodyPadding = 0;\n    this.scrollbarWidth = 0;\n    this.timerHideModal = 0;\n    this.timerRmBackDrop = 0;\n    this.isNested = false;\n    this.clickStartedInContent = false;\n    this._backdrop = clf.createLoader(_element, _viewContainerRef, _renderer);\n  }\n  /**\n   * allows to set modal configuration via element property\n   * @param {?} conf\n   * @return {?}\n   */\n\n\n  _createClass(ModalDirective, [{\n    key: \"config\",\n    get:\n    /**\n     * @return {?}\n     */\n    function get() {\n      return this._config;\n    }\n    /**\n     * @return {?}\n     */\n    ,\n    set: function set(conf) {\n      this._config = this.getConfig(conf);\n    }\n  }, {\n    key: \"isShown\",\n    get: function get() {\n      return this._isShown;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"onClickStarted\",\n    value: function onClickStarted(event) {\n      this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"onClickStop\",\n    value: function onClickStop(event) {\n      /** @type {?} */\n      var clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n\n      if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || !clickedInBackdrop) {\n        this.clickStartedInContent = false;\n        return;\n      }\n\n      this.dismissReason = DISMISS_REASONS.BACKRDOP;\n      this.hide(event);\n    } // todo: consider preventing default and stopping propagation\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"onEsc\",\n    value: function onEsc(event) {\n      if (!this._isShown) {\n        return;\n      } // tslint:disable-next-line:deprecation\n\n\n      if (event.keyCode === 27 || event.key === 'Escape') {\n        event.preventDefault();\n      }\n\n      if (this.config.keyboard) {\n        this.dismissReason = DISMISS_REASONS.ESC;\n        this.hide();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.config = void 0;\n\n      if (this._isShown) {\n        this._isShown = false;\n        this.hideModal();\n\n        this._backdrop.dispose();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this3 = this;\n\n      this._config = this._config || this.getConfig();\n      setTimeout(\n      /**\n      * @return {?}\n      */\n      function () {\n        if (_this3._config.show) {\n          _this3.show();\n        }\n      }, 0);\n    }\n    /* Public methods */\n\n    /**\n     * Allows to manually toggle modal visibility\n     * @return {?}\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      return this._isShown ? this.hide() : this.show();\n    }\n    /**\n     * Allows to manually open modal\n     * @return {?}\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this4 = this;\n\n      this.dismissReason = null;\n      this.onShow.emit(this);\n\n      if (this._isShown) {\n        return;\n      }\n\n      clearTimeout(this.timerHideModal);\n      clearTimeout(this.timerRmBackDrop);\n      this._isShown = true;\n      this.checkScrollbar();\n      this.setScrollbar();\n\n      if (document$1 && document$1.body) {\n        if (document$1.body.classList.contains(CLASS_NAME.OPEN)) {\n          this.isNested = true;\n        } else {\n          this._renderer.addClass(document$1.body, CLASS_NAME.OPEN);\n        }\n      }\n\n      this.showBackdrop(\n      /**\n      * @return {?}\n      */\n      function () {\n        _this4.showElement();\n      });\n    }\n    /**\n     * Allows to manually close modal\n     * @param {?=} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide(event) {\n      var _this5 = this;\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      this.onHide.emit(this); // todo: add an option to prevent hiding\n\n      if (!this._isShown) {\n        return;\n      }\n\n      window$1.clearTimeout(this.timerHideModal);\n      window$1.clearTimeout(this.timerRmBackDrop);\n      this._isShown = false;\n\n      this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\n\n      if (!isBs3()) {\n        this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\n      } // this._addClassIn = false;\n\n\n      if (this._config.animated) {\n        this.timerHideModal = window$1.setTimeout(\n        /**\n        * @return {?}\n        */\n        function () {\n          return _this5.hideModal();\n        }, TRANSITION_DURATION);\n      } else {\n        this.hideModal();\n      }\n    }\n    /**\n     * Private methods \\@internal\n     * @protected\n     * @param {?=} config\n     * @return {?}\n     */\n\n  }, {\n    key: \"getConfig\",\n    value: function getConfig(config) {\n      return Object.assign({}, modalConfigDefaults, config);\n    }\n    /**\n     *  Show dialog\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"showElement\",\n    value: function showElement() {\n      var _this6 = this;\n\n      // todo: replace this with component loader usage\n      if (!this._element.nativeElement.parentNode || this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE) {\n        // don't move modals dom position\n        if (document$1 && document$1.body) {\n          document$1.body.appendChild(this._element.nativeElement);\n        }\n      }\n\n      this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'false');\n\n      this._renderer.setAttribute(this._element.nativeElement, 'aria-modal', 'true');\n\n      this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n\n      this._renderer.setProperty(this._element.nativeElement, 'scrollTop', 0);\n\n      if (this._config.animated) {\n        Utils.reflow(this._element.nativeElement);\n      } // this._addClassIn = true;\n\n\n      this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\n\n      if (!isBs3()) {\n        this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\n      }\n      /** @type {?} */\n\n\n      var transitionComplete =\n      /**\n      * @return {?}\n      */\n      function transitionComplete() {\n        if (_this6._config.focus) {\n          _this6._element.nativeElement.focus();\n        }\n\n        _this6.onShown.emit(_this6);\n      };\n\n      if (this._config.animated) {\n        setTimeout(transitionComplete, TRANSITION_DURATION);\n      } else {\n        transitionComplete();\n      }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"hideModal\",\n    value: function hideModal() {\n      var _this7 = this;\n\n      this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'true');\n\n      this._renderer.setStyle(this._element.nativeElement, 'display', 'none');\n\n      this.showBackdrop(\n      /**\n      * @return {?}\n      */\n      function () {\n        if (!_this7.isNested) {\n          if (document$1 && document$1.body) {\n            _this7._renderer.removeClass(document$1.body, CLASS_NAME.OPEN);\n          }\n\n          _this7.resetScrollbar();\n        }\n\n        _this7.resetAdjustments();\n\n        _this7.focusOtherModal();\n\n        _this7.onHidden.emit(_this7);\n      });\n    } // todo: original show was calling a callback when done, but we can use\n    // promise\n\n    /**\n     * \\@internal\n     * @protected\n     * @param {?=} callback\n     * @return {?}\n     */\n\n  }, {\n    key: \"showBackdrop\",\n    value: function showBackdrop(callback) {\n      var _this8 = this;\n\n      if (this._isShown && this.config.backdrop && (!this.backdrop || !this.backdrop.instance.isShown)) {\n        this.removeBackdrop();\n\n        this._backdrop.attach(ModalBackdropComponent).to('body').show({\n          isAnimated: this._config.animated\n        });\n\n        this.backdrop = this._backdrop._componentRef;\n\n        if (!callback) {\n          return;\n        }\n\n        if (!this._config.animated) {\n          callback();\n          return;\n        }\n\n        setTimeout(callback, BACKDROP_TRANSITION_DURATION);\n      } else if (!this._isShown && this.backdrop) {\n        this.backdrop.instance.isShown = false;\n        /** @type {?} */\n\n        var callbackRemove =\n        /**\n        * @return {?}\n        */\n        function callbackRemove() {\n          _this8.removeBackdrop();\n\n          if (callback) {\n            callback();\n          }\n        };\n\n        if (this.backdrop.instance.isAnimated) {\n          this.timerRmBackDrop = window$1.setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\n        } else {\n          callbackRemove();\n        }\n      } else if (callback) {\n        callback();\n      }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeBackdrop\",\n    value: function removeBackdrop() {\n      this._backdrop.hide();\n    }\n    /**\n     * Events tricks\n     * @protected\n     * @return {?}\n     */\n    // no need for it\n    // protected setEscapeEvent():void {\n    //   if (this._isShown && this._config.keyboard) {\n    //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n    //       if (event.which === 27) {\n    //         this.hide()\n    //       }\n    //     })\n    //\n    //   } else if (!this._isShown) {\n    //     $(this._element).off(Event.KEYDOWN_DISMISS)\n    //   }\n    // }\n    // protected setResizeEvent():void {\n    // console.log(this.renderer.listenGlobal('', Event.RESIZE));\n    // if (this._isShown) {\n    //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\n    // } else {\n    //   $(window).off(Event.RESIZE)\n    // }\n    // }\n\n  }, {\n    key: \"focusOtherModal\",\n    value: function focusOtherModal() {\n      if (this._element.nativeElement.parentElement == null) {\n        return;\n      }\n      /** @type {?} */\n\n\n      var otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\n\n      if (!otherOpenedModals.length) {\n        return;\n      }\n\n      otherOpenedModals[otherOpenedModals.length - 1].focus();\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"resetAdjustments\",\n    value: function resetAdjustments() {\n      this._renderer.setStyle(this._element.nativeElement, 'paddingLeft', '');\n\n      this._renderer.setStyle(this._element.nativeElement, 'paddingRight', '');\n    }\n    /** Scroll bar tricks */\n\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"checkScrollbar\",\n    value: function checkScrollbar() {\n      this.isBodyOverflowing = document$1.body.clientWidth < window$1.innerWidth;\n      this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"setScrollbar\",\n    value: function setScrollbar() {\n      if (!document$1) {\n        return;\n      }\n\n      this.originalBodyPadding = parseInt(window$1.getComputedStyle(document$1.body).getPropertyValue('padding-right') || 0, 10);\n\n      if (this.isBodyOverflowing) {\n        document$1.body.style.paddingRight = \"\".concat(this.originalBodyPadding + this.scrollbarWidth, \"px\");\n      }\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"resetScrollbar\",\n    value: function resetScrollbar() {\n      document$1.body.style.paddingRight = \"\".concat(this.originalBodyPadding, \"px\");\n    } // thx d.walsh\n\n    /**\n     * @protected\n     * @return {?}\n     */\n\n  }, {\n    key: \"getScrollbarWidth\",\n    value: function getScrollbarWidth() {\n      /** @type {?} */\n      var scrollDiv = this._renderer.createElement('div');\n\n      this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n\n      this._renderer.appendChild(document$1.body, scrollDiv);\n      /** @type {?} */\n\n\n      var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n      this._renderer.removeChild(document$1.body, scrollDiv);\n\n      return scrollbarWidth;\n    }\n  }]);\n\n  return ModalDirective;\n}();\n\nModalDirective.ɵfac = function ModalDirective_Factory(t) {\n  return new (t || ModalDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ComponentLoaderFactory));\n};\n\nModalDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: ModalDirective,\n  selectors: [[\"\", \"bsModal\", \"\"]],\n  hostBindings: function ModalDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ModalDirective_mousedown_HostBindingHandler($event) {\n        return ctx.onClickStarted($event);\n      })(\"mouseup\", function ModalDirective_mouseup_HostBindingHandler($event) {\n        return ctx.onClickStop($event);\n      })(\"keydown.esc\", function ModalDirective_keydown_esc_HostBindingHandler($event) {\n        return ctx.onEsc($event);\n      });\n    }\n  },\n  inputs: {\n    config: \"config\"\n  },\n  outputs: {\n    onShow: \"onShow\",\n    onShown: \"onShown\",\n    onHide: \"onHide\",\n    onHidden: \"onHidden\"\n  },\n  exportAs: [\"bs-modal\"]\n});\n/** @nocollapse */\n\nModalDirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: ViewContainerRef\n  }, {\n    type: Renderer2\n  }, {\n    type: ComponentLoaderFactory\n  }];\n};\n\nModalDirective.propDecorators = {\n  config: [{\n    type: Input\n  }],\n  onShow: [{\n    type: Output\n  }],\n  onShown: [{\n    type: Output\n  }],\n  onHide: [{\n    type: Output\n  }],\n  onHidden: [{\n    type: Output\n  }],\n  onClickStarted: [{\n    type: HostListener,\n    args: ['mousedown', ['$event']]\n  }],\n  onClickStop: [{\n    type: HostListener,\n    args: ['mouseup', ['$event']]\n  }],\n  onEsc: [{\n    type: HostListener,\n    args: ['keydown.esc', ['$event']]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bsModal]',\n      exportAs: 'bs-modal'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.ViewContainerRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc1.ComponentLoaderFactory\n    }];\n  }, {\n    onShow: [{\n      type: Output\n    }],\n    onShown: [{\n      type: Output\n    }],\n    onHide: [{\n      type: Output\n    }],\n    onHidden: [{\n      type: Output\n    }],\n    config: [{\n      type: Input\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n      type: HostListener,\n      args: ['mousedown', ['$event']]\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n      type: HostListener,\n      args: ['mouseup', ['$event']]\n    }],\n    // todo: consider preventing default and stopping propagation\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n      type: HostListener,\n      args: ['keydown.esc', ['$event']]\n    }]\n  });\n})();\n\nif (false) {\n  /**\n   * This event fires immediately when the `show` instance method is called.\n   * @type {?}\n   */\n  ModalDirective.prototype.onShow;\n  /**\n   * This event is fired when the modal has been made visible to the user\n   * (will wait for CSS transitions to complete)\n   * @type {?}\n   */\n\n  ModalDirective.prototype.onShown;\n  /**\n   * This event is fired immediately when\n   * the hide instance method has been called.\n   * @type {?}\n   */\n\n  ModalDirective.prototype.onHide;\n  /**\n   * This event is fired when the modal has finished being\n   * hidden from the user (will wait for CSS transitions to complete).\n   * @type {?}\n   */\n\n  ModalDirective.prototype.onHidden;\n  /**\n   * This field contains last dismiss reason.\n   * Possible values: `backdrop-click`, `esc` and `null`\n   * (if modal was closed by direct call of `.hide()`).\n   * @type {?}\n   */\n\n  ModalDirective.prototype.dismissReason;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype._config;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype._isShown;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype.isBodyOverflowing;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype.originalBodyPadding;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype.scrollbarWidth;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype.timerHideModal;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype.timerRmBackDrop;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  ModalDirective.prototype.backdrop;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalDirective.prototype._backdrop;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalDirective.prototype.isNested;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalDirective.prototype.clickStartedInContent;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalDirective.prototype._element;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  ModalDirective.prototype._renderer;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar BsModalService = /*#__PURE__*/function () {\n  /**\n   * @param {?} rendererFactory\n   * @param {?} clf\n   */\n  function BsModalService(rendererFactory, clf) {\n    _classCallCheck(this, BsModalService);\n\n    this.clf = clf; // constructor props\n\n    this.config = modalConfigDefaults; // tslint:disable-next-line:no-any\n\n    this.onShow = new EventEmitter(); // tslint:disable-next-line:no-any\n\n    this.onShown = new EventEmitter(); // tslint:disable-next-line:no-any\n\n    this.onHide = new EventEmitter(); // tslint:disable-next-line:no-any\n\n    this.onHidden = new EventEmitter();\n    this.isBodyOverflowing = false;\n    this.originalBodyPadding = 0;\n    this.scrollbarWidth = 0;\n    this.modalsCount = 0;\n    this.lastDismissReason = '';\n    this.loaders = [];\n    this._backdropLoader = this.clf.createLoader(null, null, null);\n    this._renderer = rendererFactory.createRenderer(null, null);\n  }\n  /**\n   * Shows a modal\n   * @param {?} content\n   * @param {?=} config\n   * @return {?}\n   */\n  // tslint:disable-next-line:no-any\n\n\n  _createClass(BsModalService, [{\n    key: \"show\",\n    value: function show(content, config) {\n      this.modalsCount++;\n\n      this._createLoaders();\n\n      this.config = Object.assign({}, modalConfigDefaults, config);\n\n      this._showBackdrop();\n\n      this.lastDismissReason = null;\n      return this._showModal(content);\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide(level) {\n      var _this9 = this;\n\n      if (this.modalsCount === 1) {\n        this._hideBackdrop();\n\n        this.resetScrollbar();\n      }\n\n      this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\n      setTimeout(\n      /**\n      * @return {?}\n      */\n      function () {\n        _this9._hideModal(level);\n\n        _this9.removeLoaders(level);\n      }, this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"_showBackdrop\",\n    value: function _showBackdrop() {\n      /** @type {?} */\n      var isBackdropEnabled = this.config.backdrop || this.config.backdrop === 'static';\n      /** @type {?} */\n\n      var isBackdropInDOM = !this.backdropRef || !this.backdropRef.instance.isShown;\n\n      if (this.modalsCount === 1) {\n        this.removeBackdrop();\n\n        if (isBackdropEnabled && isBackdropInDOM) {\n          this._backdropLoader.attach(ModalBackdropComponent).to('body').show({\n            isAnimated: this.config.animated\n          });\n\n          this.backdropRef = this._backdropLoader._componentRef;\n        }\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"_hideBackdrop\",\n    value: function _hideBackdrop() {\n      var _this10 = this;\n\n      if (!this.backdropRef) {\n        return;\n      }\n\n      this.backdropRef.instance.isShown = false;\n      /** @type {?} */\n\n      var duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\n      setTimeout(\n      /**\n      * @return {?}\n      */\n      function () {\n        return _this10.removeBackdrop();\n      }, duration);\n    } // tslint:disable-next-line:no-any\n\n    /**\n     * @param {?} content\n     * @return {?}\n     */\n\n  }, {\n    key: \"_showModal\",\n    value: function _showModal(content) {\n      var _this11 = this;\n\n      /** @type {?} */\n      var modalLoader = this.loaders[this.loaders.length - 1];\n\n      if (this.config && this.config.providers) {\n        var _iterator = _createForOfIteratorHelper(this.config.providers),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var provider = _step.value;\n            modalLoader.provide(provider);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      /** @type {?} */\n\n\n      var bsModalRef = new BsModalRef();\n      /** @type {?} */\n\n      var modalContainerRef = modalLoader.provide({\n        provide: ModalOptions,\n        useValue: this.config\n      }).provide({\n        provide: BsModalRef,\n        useValue: bsModalRef\n      }).attach(ModalContainerComponent).to('body').show({\n        content: content,\n        isAnimated: this.config.animated,\n        initialState: this.config.initialState,\n        bsModalService: this\n      });\n      modalContainerRef.instance.level = this.getModalsCount();\n\n      bsModalRef.hide =\n      /**\n      * @return {?}\n      */\n      function () {\n        /** @type {?} */\n        var duration = _this11.config.animated ? TRANSITION_DURATIONS.MODAL : 0;\n        setTimeout(\n        /**\n        * @return {?}\n        */\n        function () {\n          return modalContainerRef.instance.hide();\n        }, duration);\n      };\n\n      bsModalRef.content = modalLoader.getInnerComponent() || null;\n\n      bsModalRef.setClass =\n      /**\n      * @param {?} newClass\n      * @return {?}\n      */\n      function (newClass) {\n        modalContainerRef.instance.config.class = newClass;\n      };\n\n      return bsModalRef;\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n\n  }, {\n    key: \"_hideModal\",\n    value: function _hideModal(level) {\n      /** @type {?} */\n      var modalLoader = this.loaders[level - 1];\n\n      if (modalLoader) {\n        modalLoader.hide();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"getModalsCount\",\n    value: function getModalsCount() {\n      return this.modalsCount;\n    }\n    /**\n     * @param {?} reason\n     * @return {?}\n     */\n\n  }, {\n    key: \"setDismissReason\",\n    value: function setDismissReason(reason) {\n      this.lastDismissReason = reason;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeBackdrop\",\n    value: function removeBackdrop() {\n      this._backdropLoader.hide();\n\n      this.backdropRef = null;\n    }\n    /** Checks if the body is overflowing and sets scrollbar width */\n\n    /**\n     * \\@internal\n     * @return {?}\n     */\n\n  }, {\n    key: \"checkScrollbar\",\n    value: function checkScrollbar() {\n      this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\n      this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"setScrollbar\",\n    value: function setScrollbar() {\n      if (!document) {\n        return;\n      }\n\n      this.originalBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right') || '0', 10);\n\n      if (this.isBodyOverflowing) {\n        document.body.style.paddingRight = \"\".concat(this.originalBodyPadding + this.scrollbarWidth, \"px\");\n      }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"resetScrollbar\",\n    value: function resetScrollbar() {\n      document.body.style.paddingRight = \"\".concat(this.originalBodyPadding, \"px\");\n    } // thx d.walsh\n\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"getScrollbarWidth\",\n    value: function getScrollbarWidth() {\n      /** @type {?} */\n      var scrollDiv = this._renderer.createElement('div');\n\n      this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n\n      this._renderer.appendChild(document.body, scrollDiv);\n      /** @type {?} */\n\n\n      var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n      this._renderer.removeChild(document.body, scrollDiv);\n\n      return scrollbarWidth;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"_createLoaders\",\n    value: function _createLoaders() {\n      /** @type {?} */\n      var loader = this.clf.createLoader(null, null, null);\n      this.copyEvent(loader.onBeforeShow, this.onShow);\n      this.copyEvent(loader.onShown, this.onShown);\n      this.copyEvent(loader.onBeforeHide, this.onHide);\n      this.copyEvent(loader.onHidden, this.onHidden);\n      this.loaders.push(loader);\n    }\n    /**\n     * @private\n     * @param {?} level\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeLoaders\",\n    value: function removeLoaders(level) {\n      this.loaders.splice(level - 1, 1);\n      this.loaders.forEach(\n      /**\n      * @param {?} loader\n      * @param {?} i\n      * @return {?}\n      */\n      function (loader, i) {\n        loader.instance.level = i + 1;\n      });\n    } // tslint:disable-next-line:no-any\n\n    /**\n     * @private\n     * @param {?} from\n     * @param {?} to\n     * @return {?}\n     */\n\n  }, {\n    key: \"copyEvent\",\n    value: function copyEvent(from, to) {\n      var _this12 = this;\n\n      from.subscribe(\n      /**\n      * @return {?}\n      */\n      function () {\n        to.emit(_this12.lastDismissReason);\n      });\n    }\n  }]);\n\n  return BsModalService;\n}();\n\nBsModalService.ɵfac = function BsModalService_Factory(t) {\n  return new (t || BsModalService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoaderFactory));\n};\n\nBsModalService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: BsModalService,\n  factory: BsModalService.ɵfac\n});\n/** @nocollapse */\n\nBsModalService.ctorParameters = function () {\n  return [{\n    type: RendererFactory2\n  }, {\n    type: ComponentLoaderFactory\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ɵngcc0.RendererFactory2\n    }, {\n      type: ɵngcc1.ComponentLoaderFactory\n    }];\n  }, null);\n})();\n\nif (false) {\n  /** @type {?} */\n  BsModalService.prototype.config;\n  /** @type {?} */\n\n  BsModalService.prototype.onShow;\n  /** @type {?} */\n\n  BsModalService.prototype.onShown;\n  /** @type {?} */\n\n  BsModalService.prototype.onHide;\n  /** @type {?} */\n\n  BsModalService.prototype.onHidden;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  BsModalService.prototype.isBodyOverflowing;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  BsModalService.prototype.originalBodyPadding;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  BsModalService.prototype.scrollbarWidth;\n  /**\n   * @type {?}\n   * @protected\n   */\n\n  BsModalService.prototype.backdropRef;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  BsModalService.prototype._backdropLoader;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  BsModalService.prototype.modalsCount;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  BsModalService.prototype.lastDismissReason;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  BsModalService.prototype.loaders;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  BsModalService.prototype._renderer;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  BsModalService.prototype.clf;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar ModalModule = /*#__PURE__*/function () {\n  function ModalModule() {\n    _classCallCheck(this, ModalModule);\n  }\n\n  _createClass(ModalModule, null, [{\n    key: \"forRoot\",\n    value:\n    /**\n     * @return {?}\n     */\n    function forRoot() {\n      return {\n        ngModule: ModalModule,\n        providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n      };\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"forChild\",\n    value: function forChild() {\n      return {\n        ngModule: ModalModule,\n        providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n      };\n    }\n  }]);\n\n  return ModalModule;\n}();\n\nModalModule.ɵfac = function ModalModule_Factory(t) {\n  return new (t || ModalModule)();\n};\n\nModalModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: ModalModule\n});\nModalModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent],\n      exports: [ModalBackdropComponent, ModalDirective],\n      entryComponents: [ModalBackdropComponent, ModalContainerComponent]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ModalModule, {\n    declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent],\n    exports: [ModalBackdropComponent, ModalDirective]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nexport { BsModalRef, BsModalService, ModalBackdropComponent, ModalBackdropOptions, ModalContainerComponent, ModalDirective, ModalModule, ModalOptions, CLASS_NAME as ɵa }; //# sourceMappingURL=ngx-bootstrap-modal.js.map","map":{"version":3,"sources":["C:/Users/jcarl/Downloads/MyProjectImpulso/7.1.0/angular/node_modules/ngx-bootstrap/__ivy_ngcc__/modal/fesm2015/ngx-bootstrap-modal.js"],"names":["Injectable","Component","ElementRef","Renderer2","HostListener","EventEmitter","Directive","ViewContainerRef","Input","Output","RendererFactory2","NgModule","isBs3","Utils","document","document$1","window","window$1","ComponentLoaderFactory","PositioningService","ɵngcc0","ɵngcc1","_c0","BsModalRef","hide","Function","setClass","ɵfac","BsModalRef_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","ngDevMode","ɵsetClassMetadata","type","prototype","content","ModalBackdropOptions","options","animate","Object","assign","ModalOptions","ModalOptions_Factory","backdrop","keyboard","focus","show","ignoreBackdropClick","class","animated","initialState","providers","ariaLabelledBy","ariaDescribedby","modalConfigDefaults","CLASS_NAME","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","IN","SHOW","SELECTOR","DIALOG","DATA_TOGGLE","DATA_DISMISS","FIXED_CONTENT","TRANSITION_DURATIONS","MODAL","DISMISS_REASONS","BACKRDOP","ESC","ModalContainerComponent","_element","_renderer","isShown","isModalHiding","clickStartedInContent","config","isAnimated","addClass","nativeElement","setStyle","setTimeout","body","bsModalService","getModalsCount","checkScrollbar","setScrollbar","event","target","clickedInBackdrop","setDismissReason","keyCode","key","preventDefault","level","removeClass","ModalContainerComponent_Factory","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","hostAttrs","hostVars","hostBindings","ModalContainerComponent_HostBindings","rf","ctx","ɵɵlistener","ModalContainerComponent_mousedown_HostBindingHandler","$event","onClickStarted","ModalContainerComponent_mouseup_HostBindingHandler","onClickStop","ModalContainerComponent_keydown_esc_HostBindingHandler","onEsc","ɵɵresolveWindow","ɵɵattribute","ngContentSelectors","decls","vars","consts","template","ModalContainerComponent_Template","ɵɵprojectionDef","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵclassMap","encapsulation","ctorParameters","propDecorators","args","selector","host","role","tabindex","ModalBackdropComponent","element","renderer","_isShown","_isAnimated","value","reflow","ModalBackdropComponent_Factory","ModalBackdropComponent_Template","TRANSITION_DURATION","BACKDROP_TRANSITION_DURATION","ModalDirective","_viewContainerRef","clf","onShow","onShown","onHide","onHidden","isBodyOverflowing","originalBodyPadding","scrollbarWidth","timerHideModal","timerRmBackDrop","isNested","_backdrop","createLoader","_config","conf","getConfig","dismissReason","hideModal","dispose","emit","clearTimeout","classList","contains","showBackdrop","showElement","parentNode","nodeType","Node","ELEMENT_NODE","appendChild","setAttribute","setProperty","transitionComplete","resetScrollbar","resetAdjustments","focusOtherModal","callback","instance","removeBackdrop","attach","to","_componentRef","callbackRemove","parentElement","otherOpenedModals","querySelectorAll","length","clientWidth","innerWidth","getScrollbarWidth","parseInt","getComputedStyle","getPropertyValue","style","paddingRight","scrollDiv","createElement","offsetWidth","removeChild","ModalDirective_Factory","ɵdir","ɵɵdefineDirective","ModalDirective_HostBindings","ModalDirective_mousedown_HostBindingHandler","ModalDirective_mouseup_HostBindingHandler","ModalDirective_keydown_esc_HostBindingHandler","inputs","outputs","exportAs","BsModalService","rendererFactory","modalsCount","lastDismissReason","loaders","_backdropLoader","createRenderer","_createLoaders","_showBackdrop","_showModal","_hideBackdrop","_hideModal","removeLoaders","isBackdropEnabled","isBackdropInDOM","backdropRef","duration","modalLoader","provider","provide","bsModalRef","modalContainerRef","useValue","getInnerComponent","newClass","reason","loader","copyEvent","onBeforeShow","onBeforeHide","push","splice","forEach","i","from","subscribe","BsModalService_Factory","ɵɵinject","ModalModule","ngModule","ModalModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","declarations","exports","entryComponents","ngJitMode","ɵɵsetNgModuleScope","ɵa"],"mappings":"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","sourcesContent":["import { Injectable, Component, ElementRef, Renderer2, HostListener, EventEmitter, Directive, ViewContainerRef, Input, Output, RendererFactory2, NgModule } from '@angular/core';\nimport { isBs3, Utils, document as document$1, window as window$1 } from 'ngx-bootstrap/utils';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/component-loader';\n\nconst _c0 = [\"*\"];\nclass BsModalRef {\n    constructor() {\n        /**\n         * Hides the modal\n         */\n        this.hide = Function;\n        /**\n         * Sets new class to modal window\n         */\n        this.setClass = Function;\n    }\n}\nBsModalRef.ɵfac = function BsModalRef_Factory(t) { return new (t || BsModalRef)(); };\nBsModalRef.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: BsModalRef, factory: BsModalRef.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalRef, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\nif (false) {\n    /**\n     * Reference to a component inside the modal. Null if modal's been created with TemplateRef\n     * @type {?}\n     */\n    BsModalRef.prototype.content;\n    /**\n     * Hides the modal\n     * @type {?}\n     */\n    BsModalRef.prototype.hide;\n    /**\n     * Sets new class to modal window\n     * @type {?}\n     */\n    BsModalRef.prototype.setClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalBackdropOptions {\n    /**\n     * @param {?} options\n     */\n    constructor(options) {\n        this.animate = true;\n        Object.assign(this, options);\n    }\n}\nif (false) {\n    /** @type {?} */\n    ModalBackdropOptions.prototype.animate;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalOptions {\n}\nModalOptions.ɵfac = function ModalOptions_Factory(t) { return new (t || ModalOptions)(); };\nModalOptions.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ModalOptions, factory: ModalOptions.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalOptions, [{\n        type: Injectable\n    }], null, null); })();\nif (false) {\n    /**\n     *  Includes a modal-backdrop element. Alternatively,\n     *  specify static for a backdrop which doesn't close the modal on click.\n     * @type {?}\n     */\n    ModalOptions.prototype.backdrop;\n    /**\n     * Closes the modal when escape key is pressed.\n     * @type {?}\n     */\n    ModalOptions.prototype.keyboard;\n    /** @type {?} */\n    ModalOptions.prototype.focus;\n    /**\n     * Shows the modal when initialized.\n     * @type {?}\n     */\n    ModalOptions.prototype.show;\n    /**\n     * Ignore the backdrop click\n     * @type {?}\n     */\n    ModalOptions.prototype.ignoreBackdropClick;\n    /**\n     * Css class for opened modal\n     * @type {?}\n     */\n    ModalOptions.prototype.class;\n    /**\n     * Toggle animation\n     * @type {?}\n     */\n    ModalOptions.prototype.animated;\n    /**\n     * Modal data\n     * @type {?}\n     */\n    ModalOptions.prototype.initialState;\n    /**\n     * Modal providers\n     * @type {?}\n     */\n    ModalOptions.prototype.providers;\n    /**\n     * aria-labelledby attribute value to set on the modal window\n     * @type {?}\n     */\n    ModalOptions.prototype.ariaLabelledBy;\n    /**\n     * aria-describedby attribute value to set on the modal window\n     * @type {?}\n     */\n    ModalOptions.prototype.ariaDescribedby;\n}\n/** @type {?} */\nconst modalConfigDefaults = {\n    backdrop: true,\n    keyboard: true,\n    focus: true,\n    show: false,\n    ignoreBackdropClick: false,\n    class: '',\n    animated: true,\n    initialState: {}\n};\n/** @type {?} */\nconst CLASS_NAME = {\n    SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n    BACKDROP: 'modal-backdrop',\n    OPEN: 'modal-open',\n    FADE: 'fade',\n    IN: 'in',\n    // bs3\n    SHOW: 'show' // bs4\n};\n/** @type {?} */\nconst SELECTOR = {\n    DIALOG: '.modal-dialog',\n    DATA_TOGGLE: '[data-toggle=\"modal\"]',\n    DATA_DISMISS: '[data-dismiss=\"modal\"]',\n    FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\n};\n/** @type {?} */\nconst TRANSITION_DURATIONS = {\n    MODAL: 300,\n    BACKDROP: 150\n};\n/** @type {?} */\nconst DISMISS_REASONS = {\n    BACKRDOP: 'backdrop-click',\n    ESC: 'esc'\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalContainerComponent {\n    /**\n     * @param {?} options\n     * @param {?} _element\n     * @param {?} _renderer\n     */\n    constructor(options, _element, _renderer) {\n        this._element = _element;\n        this._renderer = _renderer;\n        this.isShown = false;\n        this.isModalHiding = false;\n        this.clickStartedInContent = false;\n        this.config = Object.assign({}, options);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.FADE);\n        }\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = true;\n            this._renderer.addClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        }), this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\n        if (document && document.body) {\n            if (this.bsModalService.getModalsCount() === 1) {\n                this.bsModalService.checkScrollbar();\n                this.bsModalService.setScrollbar();\n            }\n            this._renderer.addClass(document.body, CLASS_NAME.OPEN);\n        }\n        if (this._element.nativeElement) {\n            this._element.nativeElement.focus();\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted(event) {\n        this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop(event) {\n        /** @type {?} */\n        const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            !clickedInBackdrop) {\n            this.clickStartedInContent = false;\n            return;\n        }\n        this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\n        this.hide();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this.isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard &&\n            this.level === this.bsModalService.getModalsCount()) {\n            this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.isShown) {\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    hide() {\n        if (this.isModalHiding || !this.isShown) {\n            return;\n        }\n        this.isModalHiding = true;\n        this._renderer.removeClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = false;\n            if (document &&\n                document.body &&\n                this.bsModalService.getModalsCount() === 1) {\n                this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\n            }\n            this.bsModalService.hide(this.level);\n            this.isModalHiding = false;\n        }), this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\n    }\n}\nModalContainerComponent.ɵfac = function ModalContainerComponent_Factory(t) { return new (t || ModalContainerComponent)(ɵngcc0.ɵɵdirectiveInject(ModalOptions), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalContainerComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ModalContainerComponent, selectors: [[\"modal-container\"]], hostAttrs: [\"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\"], hostVars: 3, hostBindings: function ModalContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mousedown\", function ModalContainerComponent_mousedown_HostBindingHandler($event) { return ctx.onClickStarted($event); })(\"mouseup\", function ModalContainerComponent_mouseup_HostBindingHandler($event) { return ctx.onClickStop($event); })(\"keydown.esc\", function ModalContainerComponent_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-modal\", true)(\"aria-labelledby\", ctx.config.ariaLabelledBy)(\"aria-describedby\", ctx.config.ariaDescribedby);\n    } }, ngContentSelectors: _c0, decls: 3, vars: 2, consts: [[\"role\", \"document\"], [1, \"modal-content\"]], template: function ModalContainerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(\"modal-dialog\" + (ctx.config.class ? \" \" + ctx.config.class : \"\"));\n    } }, encapsulation: 2 });\n/** @nocollapse */\nModalContainerComponent.ctorParameters = () => [\n    { type: ModalOptions },\n    { type: ElementRef },\n    { type: Renderer2 }\n];\nModalContainerComponent.propDecorators = {\n    onClickStarted: [{ type: HostListener, args: ['mousedown', ['$event'],] }],\n    onClickStop: [{ type: HostListener, args: ['mouseup', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['window:keydown.esc', ['$event'],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalContainerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'modal-container',\n                template: `\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n                host: {\n                    class: 'modal',\n                    role: 'dialog',\n                    tabindex: '-1',\n                    '[attr.aria-modal]': 'true',\n                    '[attr.aria-labelledby]': 'config.ariaLabelledBy',\n                    '[attr.aria-describedby]': 'config.ariaDescribedby'\n                }\n            }]\n    }], function () { return [{ type: ModalOptions }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, { \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n            type: HostListener,\n            args: ['mousedown', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n            type: HostListener,\n            args: ['mouseup', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n            type: HostListener,\n            args: ['window:keydown.esc', ['$event']]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    ModalContainerComponent.prototype.config;\n    /** @type {?} */\n    ModalContainerComponent.prototype.isShown;\n    /** @type {?} */\n    ModalContainerComponent.prototype.level;\n    /** @type {?} */\n    ModalContainerComponent.prototype.isAnimated;\n    /** @type {?} */\n    ModalContainerComponent.prototype.bsModalService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype.isModalHiding;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype.clickStartedInContent;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalContainerComponent.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * This component will be added as background layout for modals if enabled\n */\nclass ModalBackdropComponent {\n    /**\n     * @param {?} element\n     * @param {?} renderer\n     */\n    constructor(element, renderer) {\n        this._isShown = false;\n        this.element = element;\n        this.renderer = renderer;\n    }\n    /**\n     * @return {?}\n     */\n    get isAnimated() {\n        return this._isAnimated;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isAnimated(value) {\n        this._isAnimated = value;\n        // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isShown(value) {\n        this._isShown = value;\n        if (value) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        else {\n            this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        if (!isBs3()) {\n            if (value) {\n                this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n            else {\n                this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.FADE}`);\n            Utils.reflow(this.element.nativeElement);\n        }\n        this.isShown = true;\n    }\n}\nModalBackdropComponent.ɵfac = function ModalBackdropComponent_Factory(t) { return new (t || ModalBackdropComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalBackdropComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ModalBackdropComponent, selectors: [[\"bs-modal-backdrop\"]], hostAttrs: [1, \"modal-backdrop\"], decls: 0, vars: 0, template: function ModalBackdropComponent_Template(rf, ctx) { }, encapsulation: 2 });\n/** @nocollapse */\nModalBackdropComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalBackdropComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal-backdrop',\n                template: ' ',\n                host: { class: CLASS_NAME.BACKDROP }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    ModalBackdropComponent.prototype.element;\n    /** @type {?} */\n    ModalBackdropComponent.prototype.renderer;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalBackdropComponent.prototype._isAnimated;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalBackdropComponent.prototype._isShown;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst TRANSITION_DURATION = 300;\n/** @type {?} */\nconst BACKDROP_TRANSITION_DURATION = 150;\n/**\n * Mark any code with directive to show it's content in modal\n */\nclass ModalDirective {\n    /**\n     * @param {?} _element\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} clf\n     */\n    constructor(_element, _viewContainerRef, _renderer, clf) {\n        this._element = _element;\n        this._renderer = _renderer;\n        /**\n         * This event fires immediately when the `show` instance method is called.\n         */\n        this.onShow = new EventEmitter();\n        /**\n         * This event is fired when the modal has been made visible to the user\n         * (will wait for CSS transitions to complete)\n         */\n        this.onShown = new EventEmitter();\n        /**\n         * This event is fired immediately when\n         * the hide instance method has been called.\n         */\n        this.onHide = new EventEmitter();\n        /**\n         * This event is fired when the modal has finished being\n         * hidden from the user (will wait for CSS transitions to complete).\n         */\n        this.onHidden = new EventEmitter();\n        this._isShown = false;\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.timerHideModal = 0;\n        this.timerRmBackDrop = 0;\n        this.isNested = false;\n        this.clickStartedInContent = false;\n        this._backdrop = clf.createLoader(_element, _viewContainerRef, _renderer);\n    }\n    /**\n     * allows to set modal configuration via element property\n     * @param {?} conf\n     * @return {?}\n     */\n    set config(conf) {\n        this._config = this.getConfig(conf);\n    }\n    /**\n     * @return {?}\n     */\n    get config() {\n        return this._config;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted(event) {\n        this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop(event) {\n        /** @type {?} */\n        const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            !clickedInBackdrop) {\n            this.clickStartedInContent = false;\n            return;\n        }\n        this.dismissReason = DISMISS_REASONS.BACKRDOP;\n        this.hide(event);\n    }\n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this._isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard) {\n            this.dismissReason = DISMISS_REASONS.ESC;\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.config = void 0;\n        if (this._isShown) {\n            this._isShown = false;\n            this.hideModal();\n            this._backdrop.dispose();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this._config = this._config || this.getConfig();\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.show) {\n                this.show();\n            }\n        }), 0);\n    }\n    /* Public methods */\n    /**\n     * Allows to manually toggle modal visibility\n     * @return {?}\n     */\n    toggle() {\n        return this._isShown ? this.hide() : this.show();\n    }\n    /**\n     * Allows to manually open modal\n     * @return {?}\n     */\n    show() {\n        this.dismissReason = null;\n        this.onShow.emit(this);\n        if (this._isShown) {\n            return;\n        }\n        clearTimeout(this.timerHideModal);\n        clearTimeout(this.timerRmBackDrop);\n        this._isShown = true;\n        this.checkScrollbar();\n        this.setScrollbar();\n        if (document$1 && document$1.body) {\n            if (document$1.body.classList.contains(CLASS_NAME.OPEN)) {\n                this.isNested = true;\n            }\n            else {\n                this._renderer.addClass(document$1.body, CLASS_NAME.OPEN);\n            }\n        }\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            this.showElement();\n        }));\n    }\n    /**\n     * Allows to manually close modal\n     * @param {?=} event\n     * @return {?}\n     */\n    hide(event) {\n        if (event) {\n            event.preventDefault();\n        }\n        this.onHide.emit(this);\n        // todo: add an option to prevent hiding\n        if (!this._isShown) {\n            return;\n        }\n        window$1.clearTimeout(this.timerHideModal);\n        window$1.clearTimeout(this.timerRmBackDrop);\n        this._isShown = false;\n        this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        // this._addClassIn = false;\n        if (this._config.animated) {\n            this.timerHideModal = window$1.setTimeout((/**\n             * @return {?}\n             */\n            () => this.hideModal()), TRANSITION_DURATION);\n        }\n        else {\n            this.hideModal();\n        }\n    }\n    /**\n     * Private methods \\@internal\n     * @protected\n     * @param {?=} config\n     * @return {?}\n     */\n    getConfig(config) {\n        return Object.assign({}, modalConfigDefaults, config);\n    }\n    /**\n     *  Show dialog\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    showElement() {\n        // todo: replace this with component loader usage\n        if (!this._element.nativeElement.parentNode ||\n            this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE) {\n            // don't move modals dom position\n            if (document$1 && document$1.body) {\n                document$1.body.appendChild(this._element.nativeElement);\n            }\n        }\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'false');\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-modal', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        this._renderer.setProperty(this._element.nativeElement, 'scrollTop', 0);\n        if (this._config.animated) {\n            Utils.reflow(this._element.nativeElement);\n        }\n        // this._addClassIn = true;\n        this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        /** @type {?} */\n        const transitionComplete = (/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.focus) {\n                this._element.nativeElement.focus();\n            }\n            this.onShown.emit(this);\n        });\n        if (this._config.animated) {\n            setTimeout(transitionComplete, TRANSITION_DURATION);\n        }\n        else {\n            transitionComplete();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    hideModal() {\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'none');\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            if (!this.isNested) {\n                if (document$1 && document$1.body) {\n                    this._renderer.removeClass(document$1.body, CLASS_NAME.OPEN);\n                }\n                this.resetScrollbar();\n            }\n            this.resetAdjustments();\n            this.focusOtherModal();\n            this.onHidden.emit(this);\n        }));\n    }\n    // todo: original show was calling a callback when done, but we can use\n    // promise\n    /**\n     * \\@internal\n     * @protected\n     * @param {?=} callback\n     * @return {?}\n     */\n    showBackdrop(callback) {\n        if (this._isShown &&\n            this.config.backdrop &&\n            (!this.backdrop || !this.backdrop.instance.isShown)) {\n            this.removeBackdrop();\n            this._backdrop\n                .attach(ModalBackdropComponent)\n                .to('body')\n                .show({ isAnimated: this._config.animated });\n            this.backdrop = this._backdrop._componentRef;\n            if (!callback) {\n                return;\n            }\n            if (!this._config.animated) {\n                callback();\n                return;\n            }\n            setTimeout(callback, BACKDROP_TRANSITION_DURATION);\n        }\n        else if (!this._isShown && this.backdrop) {\n            this.backdrop.instance.isShown = false;\n            /** @type {?} */\n            const callbackRemove = (/**\n             * @return {?}\n             */\n            () => {\n                this.removeBackdrop();\n                if (callback) {\n                    callback();\n                }\n            });\n            if (this.backdrop.instance.isAnimated) {\n                this.timerRmBackDrop = window$1.setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\n            }\n            else {\n                callbackRemove();\n            }\n        }\n        else if (callback) {\n            callback();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdrop.hide();\n    }\n    /**\n     * Events tricks\n     * @protected\n     * @return {?}\n     */\n    // no need for it\n    // protected setEscapeEvent():void {\n    //   if (this._isShown && this._config.keyboard) {\n    //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n    //       if (event.which === 27) {\n    //         this.hide()\n    //       }\n    //     })\n    //\n    //   } else if (!this._isShown) {\n    //     $(this._element).off(Event.KEYDOWN_DISMISS)\n    //   }\n    // }\n    // protected setResizeEvent():void {\n    // console.log(this.renderer.listenGlobal('', Event.RESIZE));\n    // if (this._isShown) {\n    //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\n    // } else {\n    //   $(window).off(Event.RESIZE)\n    // }\n    // }\n    focusOtherModal() {\n        if (this._element.nativeElement.parentElement == null) {\n            return;\n        }\n        /** @type {?} */\n        const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\n        if (!otherOpenedModals.length) {\n            return;\n        }\n        otherOpenedModals[otherOpenedModals.length - 1].focus();\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    resetAdjustments() {\n        this._renderer.setStyle(this._element.nativeElement, 'paddingLeft', '');\n        this._renderer.setStyle(this._element.nativeElement, 'paddingRight', '');\n    }\n    /** Scroll bar tricks */\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document$1.body.clientWidth < window$1.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document$1) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window$1\n            .getComputedStyle(document$1.body)\n            .getPropertyValue('padding-right') || 0, 10);\n        if (this.isBodyOverflowing) {\n            document$1.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    resetScrollbar() {\n        document$1.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @protected\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document$1.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document$1.body, scrollDiv);\n        return scrollbarWidth;\n    }\n}\nModalDirective.ɵfac = function ModalDirective_Factory(t) { return new (t || ModalDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ComponentLoaderFactory)); };\nModalDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: ModalDirective, selectors: [[\"\", \"bsModal\", \"\"]], hostBindings: function ModalDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mousedown\", function ModalDirective_mousedown_HostBindingHandler($event) { return ctx.onClickStarted($event); })(\"mouseup\", function ModalDirective_mouseup_HostBindingHandler($event) { return ctx.onClickStop($event); })(\"keydown.esc\", function ModalDirective_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); });\n    } }, inputs: { config: \"config\" }, outputs: { onShow: \"onShow\", onShown: \"onShown\", onHide: \"onHide\", onHidden: \"onHidden\" }, exportAs: [\"bs-modal\"] });\n/** @nocollapse */\nModalDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ViewContainerRef },\n    { type: Renderer2 },\n    { type: ComponentLoaderFactory }\n];\nModalDirective.propDecorators = {\n    config: [{ type: Input }],\n    onShow: [{ type: Output }],\n    onShown: [{ type: Output }],\n    onHide: [{ type: Output }],\n    onHidden: [{ type: Output }],\n    onClickStarted: [{ type: HostListener, args: ['mousedown', ['$event'],] }],\n    onClickStop: [{ type: HostListener, args: ['mouseup', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['keydown.esc', ['$event'],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[bsModal]',\n                exportAs: 'bs-modal'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, { onShow: [{\n            type: Output\n        }], onShown: [{\n            type: Output\n        }], onHide: [{\n            type: Output\n        }], onHidden: [{\n            type: Output\n        }], config: [{\n            type: Input\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n            type: HostListener,\n            args: ['mousedown', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n            type: HostListener,\n            args: ['mouseup', ['$event']]\n        }], \n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n            type: HostListener,\n            args: ['keydown.esc', ['$event']]\n        }] }); })();\nif (false) {\n    /**\n     * This event fires immediately when the `show` instance method is called.\n     * @type {?}\n     */\n    ModalDirective.prototype.onShow;\n    /**\n     * This event is fired when the modal has been made visible to the user\n     * (will wait for CSS transitions to complete)\n     * @type {?}\n     */\n    ModalDirective.prototype.onShown;\n    /**\n     * This event is fired immediately when\n     * the hide instance method has been called.\n     * @type {?}\n     */\n    ModalDirective.prototype.onHide;\n    /**\n     * This event is fired when the modal has finished being\n     * hidden from the user (will wait for CSS transitions to complete).\n     * @type {?}\n     */\n    ModalDirective.prototype.onHidden;\n    /**\n     * This field contains last dismiss reason.\n     * Possible values: `backdrop-click`, `esc` and `null`\n     * (if modal was closed by direct call of `.hide()`).\n     * @type {?}\n     */\n    ModalDirective.prototype.dismissReason;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype._config;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype._isShown;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.isBodyOverflowing;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.originalBodyPadding;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.scrollbarWidth;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.timerHideModal;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.timerRmBackDrop;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.backdrop;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._backdrop;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype.isNested;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype.clickStartedInContent;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsModalService {\n    /**\n     * @param {?} rendererFactory\n     * @param {?} clf\n     */\n    constructor(rendererFactory, clf) {\n        this.clf = clf;\n        // constructor props\n        this.config = modalConfigDefaults;\n        // tslint:disable-next-line:no-any\n        this.onShow = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onShown = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHide = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHidden = new EventEmitter();\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.modalsCount = 0;\n        this.lastDismissReason = '';\n        this.loaders = [];\n        this._backdropLoader = this.clf.createLoader(null, null, null);\n        this._renderer = rendererFactory.createRenderer(null, null);\n    }\n    /**\n     * Shows a modal\n     * @param {?} content\n     * @param {?=} config\n     * @return {?}\n     */\n    // tslint:disable-next-line:no-any\n    show(content, config) {\n        this.modalsCount++;\n        this._createLoaders();\n        this.config = Object.assign({}, modalConfigDefaults, config);\n        this._showBackdrop();\n        this.lastDismissReason = null;\n        return this._showModal(content);\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    hide(level) {\n        if (this.modalsCount === 1) {\n            this._hideBackdrop();\n            this.resetScrollbar();\n        }\n        this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this._hideModal(level);\n            this.removeLoaders(level);\n        }), this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\n    }\n    /**\n     * @return {?}\n     */\n    _showBackdrop() {\n        /** @type {?} */\n        const isBackdropEnabled = this.config.backdrop || this.config.backdrop === 'static';\n        /** @type {?} */\n        const isBackdropInDOM = !this.backdropRef || !this.backdropRef.instance.isShown;\n        if (this.modalsCount === 1) {\n            this.removeBackdrop();\n            if (isBackdropEnabled && isBackdropInDOM) {\n                this._backdropLoader\n                    .attach(ModalBackdropComponent)\n                    .to('body')\n                    .show({ isAnimated: this.config.animated });\n                this.backdropRef = this._backdropLoader._componentRef;\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    _hideBackdrop() {\n        if (!this.backdropRef) {\n            return;\n        }\n        this.backdropRef.instance.isShown = false;\n        /** @type {?} */\n        const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => this.removeBackdrop()), duration);\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @param {?} content\n     * @return {?}\n     */\n    _showModal(content) {\n        /** @type {?} */\n        const modalLoader = this.loaders[this.loaders.length - 1];\n        if (this.config && this.config.providers) {\n            for (const provider of this.config.providers) {\n                modalLoader.provide(provider);\n            }\n        }\n        /** @type {?} */\n        const bsModalRef = new BsModalRef();\n        /** @type {?} */\n        const modalContainerRef = modalLoader\n            .provide({ provide: ModalOptions, useValue: this.config })\n            .provide({ provide: BsModalRef, useValue: bsModalRef })\n            .attach(ModalContainerComponent)\n            .to('body')\n            .show({ content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this });\n        modalContainerRef.instance.level = this.getModalsCount();\n        bsModalRef.hide = (/**\n         * @return {?}\n         */\n        () => {\n            /** @type {?} */\n            const duration = this.config.animated ? TRANSITION_DURATIONS.MODAL : 0;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => modalContainerRef.instance.hide()), duration);\n        });\n        bsModalRef.content = modalLoader.getInnerComponent() || null;\n        bsModalRef.setClass = (/**\n         * @param {?} newClass\n         * @return {?}\n         */\n        (newClass) => {\n            modalContainerRef.instance.config.class = newClass;\n        });\n        return bsModalRef;\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    _hideModal(level) {\n        /** @type {?} */\n        const modalLoader = this.loaders[level - 1];\n        if (modalLoader) {\n            modalLoader.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getModalsCount() {\n        return this.modalsCount;\n    }\n    /**\n     * @param {?} reason\n     * @return {?}\n     */\n    setDismissReason(reason) {\n        this.lastDismissReason = reason;\n    }\n    /**\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdropLoader.hide();\n        this.backdropRef = null;\n    }\n    /** Checks if the body is overflowing and sets scrollbar width */\n    /**\n     * \\@internal\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window\n            .getComputedStyle(document.body)\n            .getPropertyValue('padding-right') || '0', 10);\n        if (this.isBodyOverflowing) {\n            document.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    resetScrollbar() {\n        document.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document.body, scrollDiv);\n        return scrollbarWidth;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _createLoaders() {\n        /** @type {?} */\n        const loader = this.clf.createLoader(null, null, null);\n        this.copyEvent(loader.onBeforeShow, this.onShow);\n        this.copyEvent(loader.onShown, this.onShown);\n        this.copyEvent(loader.onBeforeHide, this.onHide);\n        this.copyEvent(loader.onHidden, this.onHidden);\n        this.loaders.push(loader);\n    }\n    /**\n     * @private\n     * @param {?} level\n     * @return {?}\n     */\n    removeLoaders(level) {\n        this.loaders.splice(level - 1, 1);\n        this.loaders.forEach((/**\n         * @param {?} loader\n         * @param {?} i\n         * @return {?}\n         */\n        (loader, i) => {\n            loader.instance.level = i + 1;\n        }));\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @private\n     * @param {?} from\n     * @param {?} to\n     * @return {?}\n     */\n    copyEvent(from, to) {\n        from.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            to.emit(this.lastDismissReason);\n        }));\n    }\n}\nBsModalService.ɵfac = function BsModalService_Factory(t) { return new (t || BsModalService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoaderFactory)); };\nBsModalService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: BsModalService, factory: BsModalService.ɵfac });\n/** @nocollapse */\nBsModalService.ctorParameters = () => [\n    { type: RendererFactory2 },\n    { type: ComponentLoaderFactory }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.RendererFactory2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    BsModalService.prototype.config;\n    /** @type {?} */\n    BsModalService.prototype.onShow;\n    /** @type {?} */\n    BsModalService.prototype.onShown;\n    /** @type {?} */\n    BsModalService.prototype.onHide;\n    /** @type {?} */\n    BsModalService.prototype.onHidden;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.isBodyOverflowing;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.originalBodyPadding;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.scrollbarWidth;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.backdropRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype._backdropLoader;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.modalsCount;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.lastDismissReason;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.loaders;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.clf;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: ModalModule,\n            providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n        };\n    }\n    /**\n     * @return {?}\n     */\n    static forChild() {\n        return {\n            ngModule: ModalModule,\n            providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n        };\n    }\n}\nModalModule.ɵfac = function ModalModule_Factory(t) { return new (t || ModalModule)(); };\nModalModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: ModalModule });\nModalModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    ModalBackdropComponent,\n                    ModalDirective,\n                    ModalContainerComponent\n                ],\n                exports: [ModalBackdropComponent, ModalDirective],\n                entryComponents: [ModalBackdropComponent, ModalContainerComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ModalModule, { declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent], exports: [ModalBackdropComponent, ModalDirective] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsModalRef, BsModalService, ModalBackdropComponent, ModalBackdropOptions, ModalContainerComponent, ModalDirective, ModalModule, ModalOptions, CLASS_NAME as ɵa };\n\n//# sourceMappingURL=ngx-bootstrap-modal.js.map"]},"metadata":{},"sourceType":"module"}